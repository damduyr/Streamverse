@model IEnumerable<Streamverse.Models.Admin>

@{
    ViewBag.Title = "Welcome System Admin, " + TempData["adminName"];
    var loggedInAdmin = (int)TempData["LoggedInAdminID"];
}

@if (!String.IsNullOrEmpty(ViewBag.ErrorMessage))
{
    <script type="text/javascript">alert('Error: '+@Html.Raw(Json.Encode(ViewBag.ErrorMessage)));</script>
}


<h2 style="text-align:center; margin-bottom:10px;">Admins List</h2>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.First_Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Last_Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Username)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Password)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.AccessLevel)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Email)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.activeStatus)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.First_Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Last_Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Username)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Password)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.AccessLevel)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Email)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.activeStatus)
        </td>
        <td>
            @if (item.AdminID != loggedInAdmin)
            {
                <td>@Html.ActionLink("Edit", "EditAdminDetails", new { selectedAdminID = item.AdminID }) </td> 
                <td>@Html.ActionLink("Delete", "DeleteAdminDetails", new { selectedAdminID = item.AdminID })</td>
            }
        </td>
    </tr>
}
</table>
<div style="margin-left:30px;">@Html.ActionLink("Add new Admin", "AddNewAdmin")</div>
<div style="margin-left: 28px;margin-top:10px;margin-bottom: 10px;">@Html.ActionLink("Show Users List", "ShowUsersList")</div>